!function(e,t){"object"==typeof module&&module.exports?(module.exports=t(),module.exports.default=module.exports):e.timeago=t()}("undefined"!=typeof window?window:this,function(){function e(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(t(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(t(e))}function t(e){return parseInt(e)}function n(e,n,r){n=p[n]?n:p[r]?r:"en";for(var o=0,a=e<0?1:0,i=e=Math.abs(e);e>=h[o]&&o<m;o++)e/=h[o];return e=t(e),o*=2,e>(0===o?9:1)&&(o+=1),p[n](e,o,i)[a].replace("%s",e)}function r(t,n){return((n=n?e(n):new Date)-e(t))/1e3}function o(e){for(var t=1,n=0,r=Math.abs(e);e>=h[n]&&n<m;n++)e/=h[n],t*=h[n];return r%=t,r=r?t-r:t,Math.ceil(r)}function a(e){return i(e,"data-timeago")||i(e,"datetime")}function i(e,t){var n=e.getAttribute||e.attr;return n&&n(t)}function u(e,t){var n=e.setAttribute||e.attr;return n&&n(w,t)}function c(e){return i(e,w)}function f(e,t){this.nowDate=e,this.defaultLocale=t||"en"}function d(e,t){return new f(e,t)}var l="second_minute_hour_day_week_month_year".split("_"),s="秒_分钟_小时_天_周_月_年".split("_"),p={en:function(e,t){if(0===t)return["just now","right now"];var n=l[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=s[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},h=[60,60,24,7,365/7/12,12],m=6,w="data-tid",_={};return f.prototype.doRender=function(e,t,a){var i,c=r(t,this.nowDate),f=this;e.innerHTML=n(c,a,this.defaultLocale),_[i=setTimeout(function(){f.doRender(e,t,a),delete _[i]},Math.min(1e3*o(c),2147483647))]=0,u(e,i)},f.prototype.format=function(e,t){return n(r(e,this.nowDate),t,this.defaultLocale)},f.prototype.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0,r=e.length;n<r;n++)this.doRender(e[n],a(e[n]),t)},f.prototype.setLocale=function(e){this.defaultLocale=e},d.register=function(e,t){p[e]=t},d.cancel=function(e){var t;if(e)(t=c(e))&&(clearTimeout(t),delete _[t]);else{for(t in _)clearTimeout(t);_={}}},d});